(this["webpackJsonptrending-movies"]=this["webpackJsonptrending-movies"]||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(31),c=n.n(a),s=(n(38),n(22)),i=(n(39),n(8)),o=n(9),l=n(11),u=n(10),d=n(15),j=n(0),h=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(j.jsxs)("div",{className:"container-fluid nav-title",children:[Object(j.jsx)("img",{width:"70px",src:"https://play-lh.googleusercontent.com/ZKxqgazA73cF7wdXn1KFZaEGFPLCSm2VvmHTFPtuobIWsk6d9Jvuxr68CGrDLDykBfLN=rw-w250",alt:"logo"}),Object(j.jsx)(d.b,{to:"/trending-movies",style:{textDecoration:"none"},children:Object(j.jsx)("h1",{children:" TrendingMovies.com "})}),Object(j.jsxs)(d.b,{to:"/favouritelist",style:{textDecoration:"none"},children:[Object(j.jsx)("h4",{style:{color:"red"},children:"\u2764"}),Object(j.jsx)("span",{children:"Fav"})]})]})}}]),n}(r.Component),b=n(6),v=n.n(b),p=n(7),g=n(12),m=n(14),f=n.n(m),x=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).state={topmovies:[]},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://api.themoviedb.org/3/movie/popular?api_key=bdd243ea847239dc0799805e63e189f0&language=en-US&page=".concat(this.state.currentpage));case 2:t=e.sent,n=t.data,this.setState({topmovies:Object(p.a)(n.results)});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.topmovies;return 0===e?" Refresh Page ":Object(j.jsx)("div",{children:Object(j.jsx)("div",{id:"myCarousel",class:"carousel-inner carousel slide slider-banner","data-bs-ride":"carousel",children:e.slice(0,Math.floor(15*Math.random())).map((function(e){return Object(j.jsxs)("div",{class:" carousel-item active",children:[Object(j.jsx)("img",{class:"bd-placeholder-img",width:"100%",src:"https://image.tmdb.org/t/p/original".concat(e.backdrop_path),"aria-hidden":"true",preserveAspectRatio:"xMidYMid slice",focusable:"false"}),Object(j.jsx)("div",{class:"container",children:Object(j.jsx)("div",{class:"carousel-caption",children:Object(j.jsxs)("h2",{class:"banner-title",children:['Trending Now : "',e.original_title,'"']})})})]})}))})})}}]),n}(r.Component),O=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).pagechange=Object(g.a)(v.a.mark((function t(){var n,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.state.currentpage),t.next=3,f.a.get("https://api.themoviedb.org/3/movie/popular?api_key=bdd243ea847239dc0799805e63e189f0&language=en-US&page=".concat(e.state.currentpage));case 3:n=t.sent,r=n.data,e.setState({movies:Object(p.a)(r.results)});case 6:case"end":return t.stop()}}),t)}))),e.nextpage=Object(g.a)(v.a.mark((function t(){var n,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=[],r=1;r<=e.state.pagenumber.length+1;r++)n.push(r);e.setState({pagenumber:[].concat(n),currentpage:e.state.currentpage+1},e.pagechange);case 3:case"end":return t.stop()}}),t)}))),e.previouspage=Object(g.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:1!==e.state.currentpage&&e.setState({currentpage:e.state.currentpage-1},e.pagechange);case 1:case"end":return t.stop()}}),t)}))),e.activepage=function(t){t!==e.state.currentpage&&e.setState({currentpage:t},e.pagechange)},e.addtofavlist=function(t){var n=JSON.parse(localStorage.getItem("addedmov")||"[]");e.state.favouritelist.includes(t.id)?n=n.filter((function(e){return e.id!==t.id})):n.push(t),localStorage.setItem("addedmov",JSON.stringify(n)),e.checkfavouritelist()},e.checkfavouritelist=function(){var t=JSON.parse(localStorage.getItem("addedmov")||"[]").map((function(e){return e.id}));e.setState({favouritelist:Object(p.a)(t)})},e.state={hover:"",pagenumber:[1],currentpage:1,movies:[],favouritelist:[],currenttext:""},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://api.themoviedb.org/3/movie/popular?api_key=bdd243ea847239dc0799805e63e189f0&language=en-US&page=".concat(this.state.currentpage));case 2:t=e.sent,n=t.data,this.setState({movies:Object(p.a)(n.results)});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.currenttext,r=t.movies.filter((function(e){return e.original_title.toLowerCase().includes(n.toLowerCase())}));return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("h1",{class:"text-danger m-2 text-center",children:"Trending Movies"}),Object(j.jsx)("div",{children:Object(j.jsx)("form",{class:"d-flex",children:Object(j.jsx)("input",{class:"form-control search-box",type:"search",placeholder:"Search Movies","aria-label":"Search",value:this.state.currenttext,onChange:function(t){return e.setState({currenttext:t.target.value})}})})}),Object(j.jsx)("div",{class:"movie-list",children:r.map((function(t){return Object(j.jsxs)("div",{class:"card movie-card text-white m-2",children:[Object(j.jsx)("img",{className:"banner-img img-fluid",src:"https://image.tmdb.org/t/p/original".concat(t.backdrop_path),alt:""}),Object(j.jsxs)("div",{class:"card-img-overlay card-texts",children:[Object(j.jsx)("h2",{className:"card-title",children:t.original_title}),Object(j.jsx)("div",{children:Object(j.jsx)("a",{class:"btn btn-primary m-1",onClick:function(){return e.addtofavlist(t)},children:e.state.favouritelist.includes(t.id)?"Remove from Favourite List":"Add to Favourite List"})})]})]})}))}),Object(j.jsx)("nav",{class:"d-flex justify-content-center p-3","aria-label":"...",children:Object(j.jsxs)("ul",{class:"pagination",children:[Object(j.jsx)("li",{class:"page-item",children:Object(j.jsx)("span",{class:"page-link",onClick:this.previouspage,children:"Previous"})}),this.state.pagenumber.map((function(t){return Object(j.jsx)("li",{class:"page-item",children:Object(j.jsx)("a",{class:"page-link",onClick:function(){return e.activepage(t)},children:t})})})),Object(j.jsx)("li",{class:"page-item",children:Object(j.jsx)("a",{class:"page-link",onClick:this.nextpage,children:"Next"})})]})})]})})}}]),n}(r.Component),y=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).activegenre=function(t){e.setState({currentgenre:t})},e.sortRatDesc=function(){var t=e.state.newmovies;t.sort((function(e,t){return t.vote_average-e.vote_average})),e.setState({movies:Object(p.a)(t)})},e.sortRatAsc=function(){var t=e.state.newmovies;t.sort((function(e,t){return e.vote_average-t.vote_average})),e.setState({movies:Object(p.a)(t)})},e.deleteMovie=function(t){var n;n=e.state.newmovies.filter((function(e){return e.id!==t})),e.setState({newmovies:Object(p.a)(n)}),localStorage.setItem("addedmov",JSON.stringify(n))},e.state={genres:[],currentgenre:"All Genres",newmovies:[],currenttext:""},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Science Fiction",10770:"TV Movie",53:"Thrillers",10752:"War",10759:"Act",37:"Western"},t=JSON.parse(localStorage.getItem("addedmov")||"[]"),n=[];t.forEach((function(t){n.includes(e[t.genre_ids[0]])||n.push(e[t.genre_ids[0]])})),n.unshift("All Genres"),this.setState({genres:[].concat(n),newmovies:Object(p.a)(t)})}},{key:"render",value:function(){var e=this,t={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Science Fiction",10770:"TV Movie",53:"Thrillers",10752:"War",10759:"Act",37:"Western"},n=this.state,r=n.currenttext,a=n.newmovies.filter((function(e){return e.original_title.toLowerCase().includes(r.toLowerCase())}));return"All Genres"!==this.state.currentgenre&&(a=this.state.newmovies.filter((function(n){return t[n.genre_ids[0]]===e.state.currentgenre}))),Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"main container-fluid",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-lg-3 ",children:Object(j.jsx)("ul",{class:"list-group p-3",children:this.state.genres.map((function(t){return e.state.currentgenre===t?Object(j.jsx)("li",{class:"list-group-item listitems",children:t}):Object(j.jsx)("li",{class:"list-group-item",onClick:function(){return e.activegenre(t)},children:t})}))})}),Object(j.jsx)("div",{className:"col-lg-9",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{children:Object(j.jsx)("form",{class:"d-flex",children:Object(j.jsx)("input",{class:"form-control search-box",type:"search",placeholder:"Search Movies","aria-label":"Search",value:this.state.currenttext,onChange:function(t){return e.setState({currenttext:t.target.value})}})})}),Object(j.jsxs)("table",{class:"table",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{className:"text-center",children:[Object(j.jsx)("th",{scope:"col",children:"Title"}),Object(j.jsx)("th",{scope:"col",children:"Genre"}),Object(j.jsxs)("th",{scope:"col",children:[Object(j.jsx)("i",{class:"fas fa-sort-up m-2",onClick:this.sortRatDesc}),"Rating",Object(j.jsx)("i",{class:"fas fa-sort-down m-2",onClick:this.sortRatAsc})]})]})}),Object(j.jsx)("tbody",{children:a.map((function(n){return Object(j.jsxs)("tr",{children:[Object(j.jsxs)("td",{children:[" ",Object(j.jsx)("img",{className:"img-thumb",src:"https://image.tmdb.org/t/p/original".concat(n.backdrop_path),alt:"thumb"}),n.original_title]}),Object(j.jsx)("td",{children:t[n.genre_ids[0]]}),Object(j.jsx)("td",{children:n.vote_average}),Object(j.jsx)("td",{children:Object(j.jsx)("button",{type:"button",class:"btn btn-danger",onClick:function(){return e.deleteMovie(n.id)},children:"Delete"})})]})}))})]})]})})]})})})}}]),n}(r.Component),k=n(2);var S=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(h,{}),Object(j.jsxs)(k.c,{children:[Object(j.jsx)(k.a,{path:"/trending-movies",exact:!0,render:function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(x,Object(s.a)({},e)),Object(j.jsx)(O,Object(s.a)({},e))]})}}),Object(j.jsx)(k.a,{path:"/favouritelist",component:y})]})]})})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,69)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};c.a.render(Object(j.jsx)(S,{}),document.getElementById("root")),w()}},[[68,1,2]]]);
//# sourceMappingURL=main.b6ce50f4.chunk.js.map